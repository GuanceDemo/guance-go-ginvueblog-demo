import{J as de,v as y,ad as kn,ae as be,af as Zn,ag as et,U as nt,r as F,ah as Ge,Q as z,ai as tt,a1 as $,p as mn,aj as lt,ak as un,al as at,am as it,I as E,a0 as ne,an as I,ao as fn,ap as ye,aq as pe,ar as Ye,K as ot,a2 as rt,M as xn,as as dt,at as we,O as A,P as Pe,Y as Oe,au as st,av as ct,R as ut,aw as ft,ax as hn,a6 as ht,ay as gt,T as We,az as gn,V as j,k as te,o as Xe,c as Qe,w as Y,a as V,b as vn,u as D,N as Re,j as vt,q as yt,d as pn,C as bt,x as kt,y as Je}from"./index-f53dfd2d.js";import{_ as mt}from"./CommonPage-328ed173.js";import{_ as xt}from"./QueryBarItem-a7adc33b.js";import{_ as pt}from"./CrudModal-8441a1a6.js";import{_ as wt}from"./CrudTable-e7ebf5b4.js";import{u as Rt}from"./useCRUD-6648f9c7.js";import{N as Nt}from"./Checkbox-23248bff.js";import{V as Ct}from"./RadioGroup-373382a0.js";import{c as St}from"./Space-fc8792cb.js";import{N as Ze}from"./Input-d1b207b8.js";import{N as Kt,a as _e}from"./FormItem-9890d329.js";import{N as Dt}from"./Switch-5cbaa6a9.js";import{N as Tt}from"./Popconfirm-7d90b5a9.js";import"./AppPage-64321f57.js";import"./Forward-fc22679e.js";import"./get-slot-1efb97e5.js";function wn(e){return typeof e=="string"?`s-${e}`:`n-${e}`}const At=de({name:"Switcher",render(){return y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},y("path",{d:"M12 8l10 8l-10 8z"}))}}),Rn=kn("n-tree-select"),Ne=kn("n-tree"),Et=de({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,selected:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:l}=be(Ne,null);return()=>{const{clsPrefix:s}=e;return y("span",{"data-switcher":!0,class:[`${s}-tree-node-switcher`,e.expanded&&`${s}-tree-node-switcher--expanded`,e.hide&&`${s}-tree-node-switcher--hide`],onClick:e.onClick},y("div",{class:`${s}-tree-node-switcher__icon`},y(Zn,null,{default:()=>{if(e.loading)return y(et,{clsPrefix:s,key:"loading",radius:85,strokeWidth:20});const{value:c}=l;return c?c({expanded:e.expanded,selected:e.selected}):y(nt,{clsPrefix:s,key:"switcher"},{default:()=>y(At,null)})}})))}}}),Ft=de({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const l=be(Ne);function s(u){const{onCheck:r}=e;r&&r(u)}function c(u){e.indeterminate?s(!1):s(u)}return{handleUpdateValue:c,mergedTheme:l.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:l,checked:s,indeterminate:c,disabled:u,focusable:r,handleUpdateValue:k}=this;return y("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},y(Nt,{focusable:r,disabled:u,theme:l.peers.Checkbox,themeOverrides:l.peerOverrides.Checkbox,checked:s,indeterminate:c,onUpdateChecked:k}))}}),Lt=de({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:l,renderPrefixRef:s,renderSuffixRef:c,labelFieldRef:u}=be(Ne),r=F(null);function k(g){const{onClick:p}=e;p&&p(g)}function R(g){k(g)}return{selfRef:r,renderLabel:l,renderPrefix:s,renderSuffix:c,labelField:u,handleClick:R}},render(){const{clsPrefix:e,labelField:l,nodeProps:s,checked:c=!1,selected:u=!1,renderLabel:r,renderPrefix:k,renderSuffix:R,handleClick:g,onDragstart:p,tmNode:{rawNode:v,rawNode:{prefix:b,suffix:w,[l]:f}}}=this;return y("span",Object.assign({},s,{ref:"selfRef",class:[`${e}-tree-node-content`,s==null?void 0:s.class],onClick:g,draggable:p===void 0?void 0:!0,onDragstart:p}),k||b?y("div",{class:`${e}-tree-node-content__prefix`},k?k({option:v,selected:u,checked:c}):Ge(b)):null,y("div",{class:`${e}-tree-node-content__text`},r?r({option:v,selected:u,checked:c}):Ge(f)),R||w?y("div",{class:`${e}-tree-node-content__suffix`},R?R({option:v,selected:u,checked:c}):Ge(w)):null)}});function yn({position:e,offsetLevel:l,indent:s,el:c}){const u={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")u.left=0,u.top=0,u.bottom=0,u.borderRadius="inherit",u.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const r=e==="before"?"top":"bottom";u[r]=0,u.left=`${c.offsetLeft+6-l*s}px`,u.height="2px",u.backgroundColor="var(--n-drop-mark-color)",u.transformOrigin=r,u.borderRadius="1px",u.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return y("div",{style:u})}function Pt({dropPosition:e,node:l}){return l.isLeaf===!1||l.children?!0:e!=="inside"}function Ot(e){return z(()=>e.leafOnly?"child":e.checkStrategy)}function le(e,l){return!!e.rawNode[l]}function Nn(e,l,s,c){e==null||e.forEach(u=>{s(u),Nn(u[l],l,s,c),c(u)})}function _t(e,l,s,c,u){const r=new Set,k=new Set,R=[];return Nn(e,c,g=>{if(R.push(g),u(l,g)){k.add(g[s]);for(let p=R.length-2;p>=0;--p)if(!r.has(R[p][s]))r.add(R[p][s]);else return}},()=>{R.pop()}),{expandedKeys:Array.from(r),highlightKeySet:k}}if(tt&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function It(e,l,s,c,u){const r=new Set,k=new Set,R=new Set,g=[],p=[],v=[];function b(f){f.forEach(m=>{if(v.push(m),l(s,m)){r.add(m[c]),R.add(m[c]);for(let K=v.length-2;K>=0;--K){const x=v[K][c];if(!k.has(x))k.add(x),r.has(x)&&r.delete(x);else break}}const N=m[u];N&&b(N),v.pop()})}b(e);function w(f,m){f.forEach(N=>{const K=N[c],x=r.has(K),h=k.has(K);if(!x&&!h)return;const C=N[u];if(C)if(x)m.push(N);else{g.push(K);const O=Object.assign(Object.assign({},N),{[u]:[]});m.push(O),w(C,O[u])}else m.push(N)})}return w(e,p),{filteredTree:p,highlightKeySet:R,expandedKeys:g}}const Bt=de({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const l=be(Ne),{droppingNodeParentRef:s,droppingMouseNodeRef:c,draggingNodeRef:u,droppingPositionRef:r,droppingOffsetLevelRef:k,nodePropsRef:R,indentRef:g,blockLineRef:p,checkboxPlacementRef:v,checkOnClickRef:b,disabledFieldRef:w}=l,f=$(()=>!!e.tmNode.rawNode.checkboxDisabled),m=$(()=>le(e.tmNode,w.value)),N=$(()=>l.disabledRef.value||m.value),K=z(()=>{const{value:i}=R;if(i)return i({option:e.tmNode.rawNode})}),x=F(null),h={value:null};mn(()=>{h.value=x.value.$el});function C(){const{tmNode:i}=e;if(!i.isLeaf&&!i.shallowLoaded){if(!l.loadingKeysRef.value.has(i.key))l.loadingKeysRef.value.add(i.key);else return;const{onLoadRef:{value:S}}=l;S&&S(i.rawNode).then(L=>{L!==!1&&l.handleSwitcherClick(i)}).finally(()=>{l.loadingKeysRef.value.delete(i.key)})}else l.handleSwitcherClick(i)}const O=$(()=>!m.value&&l.selectableRef.value&&(l.internalTreeSelect?l.mergedCheckStrategyRef.value!=="child"||l.multipleRef.value&&l.cascadeRef.value||e.tmNode.isLeaf:!0)),H=$(()=>l.checkableRef.value&&(l.cascadeRef.value||l.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),ae=$(()=>l.displayedCheckedKeysRef.value.includes(e.tmNode.key)),Ce=$(()=>{const{value:i}=H;if(!i)return!1;const{value:S}=b;return typeof S=="boolean"?S:S(e.tmNode.rawNode)});function ie(i){const{value:S}=l.expandOnClickRef,{value:L}=O,{value:ue}=Ce;if(!L&&!S&&!ue||un(i,"checkbox")||un(i,"switcher"))return;const{tmNode:Ke}=e;L&&l.handleSelect(Ke),S&&!Ke.isLeaf&&C(),ue&&ce(!ae.value)}function Be(i){var S,L;p.value||(N.value||ie(i),(L=(S=K.value)===null||S===void 0?void 0:S.onClick)===null||L===void 0||L.call(S,i))}function se(i){var S,L;p.value&&(N.value||ie(i),(L=(S=K.value)===null||S===void 0?void 0:S.onClick)===null||L===void 0||L.call(S,i))}function ce(i){l.handleCheck(e.tmNode,i)}function Se(i){l.handleDragStart({event:i,node:e.tmNode})}function Ue(i){i.currentTarget===i.target&&l.handleDragEnter({event:i,node:e.tmNode})}function G(i){i.preventDefault(),l.handleDragOver({event:i,node:e.tmNode})}function Q(i){l.handleDragEnd({event:i,node:e.tmNode})}function J(i){i.currentTarget===i.target&&l.handleDragLeave({event:i,node:e.tmNode})}function $e(i){i.preventDefault(),r.value!==null&&l.handleDrop({event:i,node:e.tmNode,dropPosition:r.value})}return{showDropMark:$(()=>{const{value:i}=u;if(!i)return;const{value:S}=r;if(!S)return;const{value:L}=c;if(!L)return;const{tmNode:ue}=e;return ue.key===L.key}),showDropMarkAsParent:$(()=>{const{value:i}=s;if(!i)return!1;const{tmNode:S}=e,{value:L}=r;return L==="before"||L==="after"?i.key===S.key:!1}),pending:$(()=>l.pendingNodeKeyRef.value===e.tmNode.key),loading:$(()=>l.loadingKeysRef.value.has(e.tmNode.key)),highlight:$(()=>{var i;return(i=l.highlightKeySetRef.value)===null||i===void 0?void 0:i.has(e.tmNode.key)}),checked:ae,indeterminate:$(()=>l.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:$(()=>l.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:$(()=>l.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:N,checkable:H,mergedCheckOnClick:Ce,checkboxDisabled:f,selectable:O,expandOnClick:l.expandOnClickRef,internalScrollable:l.internalScrollableRef,draggable:l.draggableRef,blockLine:p,nodeProps:K,checkboxFocusable:l.internalCheckboxFocusableRef,droppingPosition:r,droppingOffsetLevel:k,indent:g,checkboxPlacement:v,contentInstRef:x,contentElRef:h,handleCheck:ce,handleDrop:$e,handleDragStart:Se,handleDragEnter:Ue,handleDragOver:G,handleDragEnd:Q,handleDragLeave:J,handleLineClick:se,handleContentClick:Be,handleSwitcherClick:C}},render(){const{tmNode:e,clsPrefix:l,checkable:s,expandOnClick:c,selectable:u,selected:r,checked:k,highlight:R,draggable:g,blockLine:p,indent:v,disabled:b,pending:w,internalScrollable:f,nodeProps:m,checkboxPlacement:N}=this,K=g&&!b?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,x=f?wn(e.key):void 0,h=N==="right",C=s?y(Ft,{right:h,focusable:this.checkboxFocusable,disabled:b||this.checkboxDisabled,clsPrefix:l,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return y("div",Object.assign({class:`${l}-tree-node-wrapper`},K),y("div",Object.assign({},p?m:void 0,{class:[`${l}-tree-node`,{[`${l}-tree-node--selected`]:r,[`${l}-tree-node--checkable`]:s,[`${l}-tree-node--highlight`]:R,[`${l}-tree-node--pending`]:w,[`${l}-tree-node--disabled`]:b,[`${l}-tree-node--selectable`]:u,[`${l}-tree-node--clickable`]:u||c||this.mergedCheckOnClick},m==null?void 0:m.class],"data-key":x,draggable:g&&p,onClick:this.handleLineClick,onDragstart:g&&p&&!b?this.handleDragStart:void 0}),lt(e.level,y("div",{class:`${l}-tree-node-indent`},y("div",{style:{width:`${v}px`}}))),y(Et,{clsPrefix:l,expanded:this.expanded,selected:r,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),h?null:C,y(Lt,{ref:"contentInstRef",clsPrefix:l,checked:k,selected:r,onClick:this.handleContentClick,nodeProps:p?void 0:m,onDragstart:g&&!p&&!b?this.handleDragStart:void 0,tmNode:e}),g?this.showDropMark?yn({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:v}):this.showDropMarkAsParent?yn({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:v}):null:null,h?C:null))}}),Cn=Bt;function Ut({props:e,fNodesRef:l,mergedExpandedKeysRef:s,mergedSelectedKeysRef:c,handleSelect:u,handleSwitcherClick:r}){const{value:k}=c,R=be(Rn,null),g=R?R.pendingNodeKeyRef:F(k.length?k[k.length-1]:null);function p(v){if(!e.keyboard)return;const{value:b}=g;if(b===null){if((v.key==="ArrowDown"||v.key==="ArrowUp")&&v.preventDefault(),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(v.key)&&b===null){const{value:w}=l;let f=0;for(;f<w.length;){if(!w[f].disabled){g.value=w[f].key;break}f+=1}}}else{const{value:w}=l;let f=w.findIndex(m=>m.key===b);if(!~f)return;if(v.key==="Enter")u(w[f]);else if(v.key==="ArrowDown")for(v.preventDefault(),f+=1;f<w.length;){if(!w[f].disabled){g.value=w[f].key;break}f+=1}else if(v.key==="ArrowUp")for(v.preventDefault(),f-=1;f>=0;){if(!w[f].disabled){g.value=w[f].key;break}f-=1}else if(v.key==="ArrowLeft"){const m=w[f];if(m.isLeaf||!s.value.includes(b)){const N=m.getParent();N&&(g.value=N.key)}else r(m)}else if(v.key==="ArrowRight"){const m=w[f];if(m.isLeaf)return;if(!s.value.includes(b))r(m);else for(f+=1;f<w.length;){if(!w[f].disabled){g.value=w[f].key;break}f+=1}}}}return{pendingNodeKeyRef:g,handleKeydown:p}}const $t=de({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return y(it,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>y("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:at(this.height)}},this.nodes.map(l=>y(Cn,{clsPrefix:e,tmNode:l})))})}}),zt=E("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[ne("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),ne(">",[E("tree-node",[ne("&:first-child",{marginTop:0})])]),E("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),E("tree-motion-wrapper",[I("expand",[fn({duration:"0.2s"})]),I("collapse",[fn({duration:"0.2s",reverse:!0})])]),E("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),E("tree-node",`
 transform: translate3d(0,0,0);
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[I("highlight",[E("tree-node-content",[ye("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),I("disabled",[E("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),pe("disabled",[I("clickable",[E("tree-node-content",`
 cursor: pointer;
 `)])])]),I("block-node",[E("tree-node-content",`
 flex: 1;
 min-width: 0;
 `)]),pe("block-line",[E("tree-node",[pe("disabled",[E("tree-node-content",[ne("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),I("selectable",[E("tree-node-content",[ne("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),I("pending",[E("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),I("selected",[E("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),I("block-line",[E("tree-node",[pe("disabled",[ne("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),I("pending",`
 background-color: var(--n-node-color-hover);
 `),I("selectable",[pe("selected",[ne("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),I("selected",{backgroundColor:"var(--n-node-color-active)"})]),I("disabled",`
 cursor: not-allowed;
 `)])]),E("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[ye("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[E("icon",[Ye()]),E("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[Ye()]),E("base-icon",[Ye()])]),I("hide",{visibility:"hidden"}),I("expanded",{transform:"rotate(90deg)"})]),E("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[I("right","margin-left: 4px;")]),I("checkable",[E("tree-node-content",`
 padding: 0 6px;
 `)]),E("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[ne("&:last-child",{marginBottom:0}),ye("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),ye("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow: 1;
 max-width: 100%;
 `),ye("suffix",`
 display: inline-flex;
 `)]),ye("empty","margin: auto;")]);var Mt=globalThis&&globalThis.__awaiter||function(e,l,s,c){function u(r){return r instanceof s?r:new s(function(k){k(r)})}return new(s||(s=Promise))(function(r,k){function R(v){try{p(c.next(v))}catch(b){k(b)}}function g(v){try{p(c.throw(v))}catch(b){k(b)}}function p(v){v.done?r(v.value):u(v.value).then(R,g)}p((c=c.apply(e,l||[])).next())})};const Ie=30;function jt(e,l,s,c){return{getIsGroup(){return!1},getKey(r){return r[e]},getChildren:c||(r=>r[l]),getDisabled(r){return!!(r[s]||r.checkboxDisabled)}}}const qt={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},disabledField:{type:String,default:"disabled"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,renderSwitcherIcon:Function,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},Vt=Object.assign(Object.assign(Object.assign(Object.assign({},xn.props),{accordion:Boolean,showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},expandOnClick:Boolean,checkOnClick:{type:[Boolean,Function],default:!1},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Pt},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,nodeProps:Function,keyboard:{type:Boolean,default:!0},getChildren:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),qt),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean}),bn=de({name:"Tree",props:Vt,setup(e){const{mergedClsPrefixRef:l,inlineThemeDisabled:s,mergedRtlRef:c}=ot(e),u=rt("Tree",c,l),r=xn("Tree","-tree",zt,gt,e,l),k=F(null),R=F(null),g=F(null);function p(){var n;return(n=g.value)===null||n===void 0?void 0:n.listElRef}function v(){var n;return(n=g.value)===null||n===void 0?void 0:n.itemsElRef}const b=z(()=>{const{filter:n}=e;if(n)return n;const{labelField:t}=e;return(a,o)=>{if(!a.length)return!0;const d=o[t];return typeof d=="string"?d.toLowerCase().includes(a.toLowerCase()):!1}}),w=z(()=>{const{pattern:n}=e;return n?!n.length||!b.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:It(e.data,b.value,n,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),f=z(()=>dt(e.showIrrelevantNodes?e.data:w.value.filteredTree,jt(e.keyField,e.childrenField,e.disabledField,e.getChildren))),m=be(Rn,null),N=e.internalTreeSelect?m.dataTreeMate:f,{watchProps:K}=e,x=F([]);K!=null&&K.includes("defaultCheckedKeys")?we(()=>{x.value=e.defaultCheckedKeys}):x.value=e.defaultCheckedKeys;const h=A(e,"checkedKeys"),C=Pe(h,x),O=z(()=>N.value.getCheckedKeys(C.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),H=Ot(e),ae=z(()=>O.value.checkedKeys),Ce=z(()=>{const{indeterminateKeys:n}=e;return n!==void 0?n:O.value.indeterminateKeys}),ie=F([]);K!=null&&K.includes("defaultSelectedKeys")?we(()=>{ie.value=e.defaultSelectedKeys}):ie.value=e.defaultSelectedKeys;const Be=A(e,"selectedKeys"),se=Pe(Be,ie),ce=F([]),Se=n=>{ce.value=e.defaultExpandAll?N.value.getNonLeafKeys():n===void 0?e.defaultExpandedKeys:n};K!=null&&K.includes("defaultExpandedKeys")?we(()=>{Se(void 0)}):we(()=>{Se(e.defaultExpandedKeys)});const Ue=A(e,"expandedKeys"),G=Pe(Ue,ce),Q=z(()=>f.value.getFlattenedNodes(G.value)),{pendingNodeKeyRef:J,handleKeydown:$e}=Ut({props:e,mergedSelectedKeysRef:se,fNodesRef:Q,mergedExpandedKeysRef:G,handleSelect:qe,handleSwitcherClick:an});let i=null,S=null;const L=F(new Set),ue=z(()=>e.internalHighlightKeySet||w.value.highlightKeySet),Ke=Pe(ue,L),De=F(new Set),Sn=z(()=>G.value.filter(n=>!De.value.has(n)));let en=0;const ke=F(null),Te=F(null),Ae=F(null),Ee=F(null),Fe=F(0),Kn=z(()=>{const{value:n}=Te;return n?n.parent:null});Oe(A(e,"data"),()=>{De.value.clear(),J.value=null,xe()},{deep:!1});let ze=!1;const Me=()=>{ze=!0,We(()=>{ze=!1})};let me;Oe(A(e,"pattern"),(n,t)=>{if(e.showIrrelevantNodes)if(me=void 0,n){const{expandedKeys:a,highlightKeySet:o}=_t(e.data,e.pattern,e.keyField,e.childrenField,b.value);L.value=o,Me(),he(a,q(a),{node:null,action:"filter"})}else L.value=new Set;else if(!n.length)me!==void 0&&(Me(),he(me,q(me),{node:null,action:"filter"}));else{t.length||(me=G.value);const{expandedKeys:a}=w.value;a!==void 0&&(Me(),he(a,q(a),{node:null,action:"filter"}))}});function nn(n){return Mt(this,void 0,void 0,function*(){const{onLoad:t}=e;if(!t){yield Promise.resolve();return}const{value:a}=De;if(!a.has(n.key)){a.add(n.key);try{(yield t(n.rawNode))===!1&&ge()}catch(o){ge()}a.delete(n.key)}})}we(()=>{var n;const{value:t}=f;if(!t)return;const{getNode:a}=t;(n=G.value)===null||n===void 0||n.forEach(o=>{const d=a(o);d&&!d.shallowLoaded&&nn(d)})});const fe=F(!1),Z=F([]);Oe(Sn,(n,t)=>{if(!e.animated||ze){We(Le);return}const a=new Set(t);let o=null,d=null;for(const P of n)if(!a.has(P)){if(o!==null)return;o=P}const B=new Set(n);for(const P of t)if(!B.has(P)){if(d!==null)return;d=P}if(o===null&&d===null)return;const{virtualScroll:_}=e,X=(_?g.value.listElRef:k.value).offsetHeight,re=Math.ceil(X/Ie)+1;let W;if(o!==null&&(W=t),d!==null&&(W===void 0?W=n:W=W.filter(P=>P!==d)),fe.value=!0,Z.value=f.value.getFlattenedNodes(W),o!==null){const P=Z.value.findIndex(U=>U.key===o);if(~P){const U=Z.value[P].children;if(U){const ee=gn(U,n);Z.value.splice(P+1,0,{__motion:!0,mode:"expand",height:_?ee.length*Ie:void 0,nodes:_?ee.slice(0,re):ee})}}}if(d!==null){const P=Z.value.findIndex(U=>U.key===d);if(~P){const U=Z.value[P].children;if(!U)return;fe.value=!0;const ee=gn(U,n);Z.value.splice(P+1,0,{__motion:!0,mode:"collapse",height:_?ee.length*Ie:void 0,nodes:_?ee.slice(0,re):ee})}}});const Dn=z(()=>st(Q.value)),Tn=z(()=>fe.value?Z.value:Q.value);function Le(){const{value:n}=R;n&&n.sync()}function An(){fe.value=!1,e.virtualScroll&&We(Le)}function q(n){const{getNode:t}=N.value;return n.map(a=>{var o;return((o=t(a))===null||o===void 0?void 0:o.rawNode)||null})}function he(n,t,a){const{"onUpdate:expandedKeys":o,onUpdateExpandedKeys:d}=e;ce.value=n,o&&j(o,n,t,a),d&&j(d,n,t,a)}function tn(n,t,a){const{"onUpdate:checkedKeys":o,onUpdateCheckedKeys:d}=e;x.value=n,d&&j(d,n,t,a),o&&j(o,n,t,a)}function En(n,t){const{"onUpdate:indeterminateKeys":a,onUpdateIndeterminateKeys:o}=e;a&&j(a,n,t),o&&j(o,n,t)}function je(n,t,a){const{"onUpdate:selectedKeys":o,onUpdateSelectedKeys:d}=e;ie.value=n,d&&j(d,n,t,a),o&&j(o,n,t,a)}function Fn(n){const{onDragenter:t}=e;t&&j(t,n)}function Ln(n){const{onDragleave:t}=e;t&&j(t,n)}function Pn(n){const{onDragend:t}=e;t&&j(t,n)}function On(n){const{onDragstart:t}=e;t&&j(t,n)}function _n(n){const{onDragover:t}=e;t&&j(t,n)}function In(n){const{onDrop:t}=e;t&&j(t,n)}function xe(){Bn(),oe()}function Bn(){ke.value=null}function oe(){Fe.value=0,Te.value=null,Ae.value=null,Ee.value=null,ge()}function ge(){i&&(window.clearTimeout(i),i=null),S=null}function ln(n,t){if(e.disabled||le(n,e.disabledField))return;if(e.internalUnifySelectCheck&&!e.multiple){qe(n);return}const a=t?"check":"uncheck",{checkedKeys:o,indeterminateKeys:d}=N.value[a](n.key,ae.value,{cascade:e.cascade,checkStrategy:H.value,allowNotLoaded:e.allowCheckingNotLoaded});tn(o,q(o),{node:n.rawNode,action:a}),En(d,q(d))}function Un(n){if(e.disabled)return;const{key:t}=n,{value:a}=G,o=a.findIndex(d=>d===t);if(~o){const d=Array.from(a);d.splice(o,1),he(d,q(d),{node:n.rawNode,action:"collapse"})}else{const d=f.value.getNode(t);if(!d||d.isLeaf)return;let B;if(e.accordion){const _=new Set(n.siblings.map(({key:X})=>X));B=a.filter(X=>!_.has(X)),B.push(t)}else B=a.concat(t);he(B,q(B),{node:n.rawNode,action:"expand"})}}function an(n){e.disabled||fe.value||Un(n)}function qe(n){if(!(e.disabled||!e.selectable)){if(J.value=n.key,e.internalUnifySelectCheck){const{value:{checkedKeys:t,indeterminateKeys:a}}=O;e.multiple?ln(n,!(t.includes(n.key)||a.includes(n.key))):tn([n.key],q([n.key]),{node:n.rawNode,action:"check"})}if(e.multiple){const t=Array.from(se.value),a=t.findIndex(o=>o===n.key);~a?e.cancelable&&t.splice(a,1):~a||t.push(n.key),je(t,q(t),{node:n.rawNode,action:~a?"unselect":"select"})}else se.value.includes(n.key)?e.cancelable&&je([],[],{node:n.rawNode,action:"unselect"}):je([n.key],q([n.key]),{node:n.rawNode,action:"select"})}}function $n(n){if(i&&(window.clearTimeout(i),i=null),n.isLeaf)return;S=n.key;const t=()=>{if(S!==n.key)return;const{value:a}=Ae;if(a&&a.key===n.key&&!G.value.includes(n.key)){const o=G.value.concat(n.key);he(o,q(o),{node:n.rawNode,action:"expand"})}i=null,S=null};n.shallowLoaded?i=window.setTimeout(()=>{t()},1e3):i=window.setTimeout(()=>{nn(n).then(()=>{t()})},1e3)}function zn({event:n,node:t}){!e.draggable||e.disabled||le(t,e.disabledField)||(on({event:n,node:t},!1),Fn({event:n,node:t.rawNode}))}function Mn({event:n,node:t}){!e.draggable||e.disabled||le(t,e.disabledField)||Ln({event:n,node:t.rawNode})}function jn(n){n.target===n.currentTarget&&oe()}function qn({event:n,node:t}){xe(),!(!e.draggable||e.disabled||le(t,e.disabledField))&&Pn({event:n,node:t.rawNode})}function Vn({event:n,node:t}){!e.draggable||e.disabled||le(t,e.disabledField)||(en=n.clientX,ke.value=t,On({event:n,node:t.rawNode}))}function on({event:n,node:t},a=!0){var o;if(!e.draggable||e.disabled||le(t,e.disabledField))return;const{value:d}=ke;if(!d)return;const{allowDrop:B,indent:_}=e;a&&_n({event:n,node:t.rawNode});const X=n.currentTarget,{height:re,top:W}=X.getBoundingClientRect(),P=n.clientY-W;let U;B({node:t.rawNode,dropPosition:"inside",phase:"drag"})?P<=8?U="before":P>=re-8?U="after":U="inside":P<=re/2?U="before":U="after";const{value:Jn}=Dn;let T,M;const Ve=Jn(t.key);if(Ve===null){oe();return}let dn=!1;U==="inside"?(T=t,M="inside"):U==="before"?t.isFirstChild?(T=t,M="before"):(T=Q.value[Ve-1],M="after"):(T=t,M="after"),!T.isLeaf&&G.value.includes(T.key)&&(dn=!0,M==="after"&&(T=Q.value[Ve+1],T?M="before":(T=t,M="inside")));const sn=T;if(Ae.value=sn,!dn&&d.isLastChild&&d.key===T.key&&(M="after"),M==="after"){let cn=en-n.clientX,He=0;for(;cn>=_/2&&T.parent!==null&&T.isLastChild&&He<1;)cn-=_,He+=1,T=T.parent;Fe.value=He}else Fe.value=0;if((d.contains(T)||M==="inside"&&((o=d.parent)===null||o===void 0?void 0:o.key)===T.key)&&!(d.key===sn.key&&d.key===T.key)){oe();return}if(!B({node:T.rawNode,dropPosition:M,phase:"drag"})){oe();return}if(d.key===T.key)ge();else if(S!==T.key)if(M==="inside"){if(e.expandOnDragenter){if($n(T),!T.shallowLoaded&&S!==T.key){xe();return}}else if(!T.shallowLoaded){xe();return}}else ge();else M!=="inside"&&ge();Ee.value=M,Te.value=T}function Hn({event:n,node:t,dropPosition:a}){if(!e.draggable||e.disabled||le(t,e.disabledField))return;const{value:o}=ke,{value:d}=Te,{value:B}=Ee;if(!(!o||!d||!B)&&e.allowDrop({node:d.rawNode,dropPosition:B,phase:"drag"})&&o.key!==d.key){if(B==="before"){const _=o.getNext({includeDisabled:!0});if(_&&_.key===d.key){oe();return}}if(B==="after"){const _=o.getPrev({includeDisabled:!0});if(_&&_.key===d.key){oe();return}}In({event:n,node:d.rawNode,dragNode:o.rawNode,dropPosition:a}),xe()}}function Gn(){Le()}function Yn(){Le()}function Wn(n){var t;if(e.virtualScroll||e.internalScrollable){const{value:a}=R;if(!((t=a==null?void 0:a.containerRef)===null||t===void 0)&&t.contains(n.relatedTarget))return;J.value=null}else{const{value:a}=k;if(a!=null&&a.contains(n.relatedTarget))return;J.value=null}}Oe(J,n=>{var t,a;if(n!==null){if(e.virtualScroll)(t=g.value)===null||t===void 0||t.scrollTo({key:n});else if(e.internalScrollable){const{value:o}=R;if(o===null)return;const d=(a=o.contentRef)===null||a===void 0?void 0:a.querySelector(`[data-key="${wn(n)}"]`);if(!d)return;o.scrollTo({el:d})}}}),ct(Ne,{loadingKeysRef:De,highlightKeySetRef:Ke,displayedCheckedKeysRef:ae,displayedIndeterminateKeysRef:Ce,mergedSelectedKeysRef:se,mergedExpandedKeysRef:G,mergedThemeRef:r,mergedCheckStrategyRef:H,nodePropsRef:A(e,"nodeProps"),disabledRef:A(e,"disabled"),checkableRef:A(e,"checkable"),selectableRef:A(e,"selectable"),expandOnClickRef:A(e,"expandOnClick"),onLoadRef:A(e,"onLoad"),draggableRef:A(e,"draggable"),blockLineRef:A(e,"blockLine"),indentRef:A(e,"indent"),cascadeRef:A(e,"cascade"),checkOnClickRef:A(e,"checkOnClick"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:Ae,droppingNodeParentRef:Kn,draggingNodeRef:ke,droppingPositionRef:Ee,droppingOffsetLevelRef:Fe,fNodesRef:Q,pendingNodeKeyRef:J,disabledFieldRef:A(e,"disabledField"),internalScrollableRef:A(e,"internalScrollable"),internalCheckboxFocusableRef:A(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:A(e,"renderLabel"),renderPrefixRef:A(e,"renderPrefix"),renderSuffixRef:A(e,"renderSuffix"),renderSwitcherIconRef:A(e,"renderSwitcherIcon"),labelFieldRef:A(e,"labelField"),multipleRef:A(e,"multiple"),handleSwitcherClick:an,handleDragEnd:qn,handleDragEnter:zn,handleDragLeave:Mn,handleDragStart:Vn,handleDrop:Hn,handleDragOver:on,handleSelect:qe,handleCheck:ln});function Xn(n){var t;(t=g.value)===null||t===void 0||t.scrollTo(n)}const Qn={handleKeydown:$e,scrollTo:Xn,getCheckedData:()=>{if(!e.checkable)return{keys:[],options:[]};const{checkedKeys:n}=O.value;return{keys:n,options:q(n)}},getIndeterminateData:()=>{if(!e.checkable)return{keys:[],options:[]};const{indeterminateKeys:n}=O.value;return{keys:n,options:q(n)}}},rn=z(()=>{const{common:{cubicBezierEaseInOut:n},self:{fontSize:t,nodeBorderRadius:a,nodeColorHover:o,nodeColorPressed:d,nodeColorActive:B,arrowColor:_,loadingColor:X,nodeTextColor:re,nodeTextColorDisabled:W,dropMarkColor:P}}=r.value;return{"--n-arrow-color":_,"--n-loading-color":X,"--n-bezier":n,"--n-font-size":t,"--n-node-border-radius":a,"--n-node-color-active":B,"--n-node-color-hover":o,"--n-node-color-pressed":d,"--n-node-text-color":re,"--n-node-text-color-disabled":W,"--n-drop-mark-color":P}}),ve=s?ut("tree",void 0,rn,e):void 0;return Object.assign(Object.assign({},Qn),{mergedClsPrefix:l,mergedTheme:r,rtlEnabled:u,fNodes:Tn,aip:fe,selfElRef:k,virtualListInstRef:g,scrollbarInstRef:R,handleFocusout:Wn,handleDragLeaveTree:jn,handleScroll:Gn,getScrollContainer:p,getScrollContent:v,handleAfterEnter:An,handleResize:Yn,cssVars:s?void 0:rn,themeClass:ve==null?void 0:ve.themeClass,onRender:ve==null?void 0:ve.onRender})},render(){var e;const{fNodes:l,internalRenderEmpty:s}=this;if(!l.length&&s)return s();const{mergedClsPrefix:c,blockNode:u,blockLine:r,draggable:k,disabled:R,internalFocusable:g,checkable:p,handleKeydown:v,rtlEnabled:b,handleFocusout:w}=this,f=g&&!R,m=f?"0":void 0,N=[`${c}-tree`,b&&`${c}-tree--rtl`,p&&`${c}-tree--checkable`,(r||u)&&`${c}-tree--block-node`,r&&`${c}-tree--block-line`],K=h=>"__motion"in h?y($t,{height:h.height,nodes:h.nodes,clsPrefix:c,mode:h.mode,onAfterEnter:this.handleAfterEnter}):y(Cn,{key:h.key,tmNode:h,clsPrefix:c});if(this.virtualScroll){const{mergedTheme:h,internalScrollablePadding:C}=this,O=ft(C||"0");return y(hn,{ref:"scrollbarInstRef",onDragleave:k?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:N,theme:h.peers.Scrollbar,themeOverrides:h.peerOverrides.Scrollbar,tabindex:m,onKeydown:f?v:void 0,onFocusout:f?w:void 0},{default:()=>{var H;return(H=this.onRender)===null||H===void 0||H.call(this),y(Ct,{ref:"virtualListInstRef",items:this.fNodes,itemSize:Ie,ignoreItemResize:this.aip,paddingTop:O.top,paddingBottom:O.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:O.left,paddingRight:O.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:ae})=>K(ae)})}})}const{internalScrollable:x}=this;return N.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),x?y(hn,{class:N,tabindex:m,onKeydown:f?v:void 0,onFocusout:f?w:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>y("div",{onDragleave:k?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map(K))}):y("div",{class:N,tabindex:m,ref:"selfElRef",style:this.cssVars,onKeydown:f?v:void 0,onFocusout:f?w:void 0,onDragleave:k?this.handleDragLeaveTree:void 0},l.length?l.map(K):ht(this.$slots.empty,()=>[y(St,{class:`${c}-tree__empty`,theme:this.mergedTheme.peers.Empty,themeOverrides:this.mergedTheme.peerOverrides.Empty})]))}}),Ht=pn("span",{class:"i-material-symbols:add mr-5 text-18"},null,-1),Gt=pn("span",{class:"i-material-symbols:add mr-5 text-18"},null,-1),cl=Object.assign({name:"角色管理"},{__name:"index",setup(e){const l=F(null),s=F({}),{modalVisible:c,modalAction:u,modalTitle:r,modalLoading:k,handleAdd:R,handleDelete:g,handleEdit:p,handleSave:v,modalForm:b,modalFormRef:w}=Rt({name:"角色",initForm:{},doCreate:te.saveOrUpdateRole,doDelete:te.deleteRole,doUpdate:te.saveOrUpdateRole,refresh:()=>{var x;return(x=l.value)==null?void 0:x.handleSearch()}}),f=F(!0),m=F([]),N=F([]);mn(()=>{var x;(x=l.value)==null||x.handleSearch(),te.getResourceOption().then(h=>m.value=h.data),te.getMenuOption().then(h=>N.value=h.data)});const K=[{type:"selection",width:15,fixed:"left"},{title:"角色名",key:"name",width:80,align:"center",ellipsis:{tooltip:!0}},{title:"角色标签",key:"label",width:80,align:"center",render(x){return y(bt,{type:"info"},{default:()=>x.label})}},{title:"创建日期",key:"created_at",width:60,align:"center",render(x){return y("span",kt(x.created_at))}},{title:"是否禁用",key:"is_disable",width:30,align:"center",fixed:"left",render(x){return y(Dt,{size:"small",rubberBand:!1,value:x.is_disable,loading:!!x.publishing,checkedValue:1,uncheckedValue:0,onUpdateValue:()=>$message.info("这个功能暂时还不支持~")})}},{title:"操作",key:"actions",width:100,align:"center",fixed:"right",render(x){return[y(Re,{size:"tiny",quaternary:!0,type:"info",onClick:()=>{f.value=!0,te.getMenuOption().then(h=>N.value=h.data),p(x)}},{default:()=>"菜单权限",icon:Je("material-symbols:edit-outline",{size:16})}),y(Re,{size:"tiny",quaternary:!0,type:"info",onClick:()=>{f.value=!1,te.getResourceOption().then(h=>m.value=h.data),p(x)}},{default:()=>"资源权限",icon:Je("ic:baseline-folder-open",{size:16})}),y(Tt,{onPositiveClick:()=>g([x.id],!1),onNegativeClick:()=>{}},{trigger:()=>y(Re,{size:"small",type:"error",style:"margin-left: 15px;"},{default:()=>"删除",icon:Je("material-symbols:delete-outline",{size:16})}),default:()=>y("div",{},"确定删除该角色吗?")})]}}];return(x,h)=>(Xe(),Qe(mt,{"show-footer":"",title:"角色管理"},{action:Y(()=>{var C;return[V(D(Re),{type:"primary",onClick:D(R)},{default:Y(()=>[Ht,vn(" 新建角色 ")]),_:1},8,["onClick"]),V(D(Re),{type:"error",disabled:!((C=l.value)!=null&&C.selections.length),onClick:h[0]||(h[0]=O=>{var H;return D(g)((H=l.value)==null?void 0:H.selections)})},{default:Y(()=>[Gt,vn(" 批量删除 ")]),_:1},8,["disabled"])]}),default:Y(()=>[V(wt,{ref_key:"$table",ref:l,"query-items":s.value,"onUpdate:queryItems":h[3]||(h[3]=C=>s.value=C),columns:K,"get-data":D(te).getRoles},{queryBar:Y(()=>[V(xt,{label:"角色名","label-width":50},{default:Y(()=>[V(D(Ze),{value:s.value.keyword,"onUpdate:value":h[1]||(h[1]=C=>s.value.keyword=C),clearable:"",type:"text",placeholder:"请输入角色名",onKeydown:h[2]||(h[2]=vt(C=>{var O;return(O=l.value)==null?void 0:O.handleSearch()},["enter"]))},null,8,["value"])]),_:1})]),_:1},8,["query-items","get-data"]),V(pt,{visible:D(c),"onUpdate:visible":h[8]||(h[8]=C=>yt(c)?c.value=C:null),title:D(r),loading:D(k),onSave:D(v)},{default:Y(()=>[V(D(Kt),{ref_key:"modalFormRef",ref:w,"label-placement":"left","label-align":"left","label-width":80,model:D(b),disabled:D(u)==="view"},{default:Y(()=>[V(D(_e),{label:"角色名",path:"name"},{default:Y(()=>[V(D(Ze),{value:D(b).name,"onUpdate:value":h[4]||(h[4]=C=>D(b).name=C),placeholder:"请输入角色名称"},null,8,["value"])]),_:1}),V(D(_e),{label:"角色标签",path:"name"},{default:Y(()=>[V(D(Ze),{value:D(b).label,"onUpdate:value":h[5]||(h[5]=C=>D(b).label=C),placeholder:"请输入角色标签"},null,8,["value"])]),_:1}),f.value?(Xe(),Qe(D(_e),{key:0,label:"菜单权限",path:"menu_ids"},{default:Y(()=>[V(D(bn),{data:N.value,"checked-keys":D(b).menu_ids,checkable:"","expand-on-click":"","block-line":"","onUpdate:checkedKeys":h[6]||(h[6]=C=>D(b).menu_ids=C)},null,8,["data","checked-keys"])]),_:1})):(Xe(),Qe(D(_e),{key:1,label:"资源权限",path:"resource_ids"},{default:Y(()=>[V(D(bn),{data:m.value,"checked-keys":D(b).resource_ids,"block-line":"",checkable:"","expand-on-click":"",cascade:"",accordion:"","onUpdate:checkedKeys":h[7]||(h[7]=C=>D(b).resource_ids=C)},null,8,["data","checked-keys"])]),_:1}))]),_:1},8,["model","disabled"])]),_:1},8,["visible","title","loading","onSave"])]),_:1}))}});export{cl as default};
